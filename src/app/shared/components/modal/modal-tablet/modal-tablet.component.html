<div class="modal-background" (click)="onClose()"></div>

<div class="tablet-modal">
    <div class="top">
        <h3 class="product-title">{{product.title}}</h3>

        <div class="close-btn" (click)="onClose()">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd"
                    d="M14.1147 0L8 6.11467L1.88533 0L0 1.88533L6.11467 8L0 14.1147L1.88533 16L8 9.88533L14.1147 16L16 14.1147L9.88533 8L16 1.88533L14.1147 0Z"
                    fill="#E89806" />
            </svg>
        </div>
    </div>

    <div class="middle">
        <div class="product-image">
            <div class="social-icons-container">
                <div class="social-icon">
                    <svg width="10" height="20" viewBox="0 0 10 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M6.25 6.875V4.375C6.25 3.685 6.81 3.125 7.5 3.125H8.75V0H6.25C4.17875 0 2.5 1.67875 2.5 3.75V6.875H0V10H2.5V20H6.25V10H8.75L10 6.875H6.25Z"
                            fill="#E89806" />
                    </svg>
                </div>

                <div class="social-icon">
                    <svg width="20" height="18" viewBox="0 0 20 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M20 2.79875C19.2563 3.125 18.4637 3.34125 17.6375 3.44625C18.4875 2.93875 19.1363 2.14125 19.4412 1.18C18.6488 1.6525 17.7738 1.98625 16.8412 2.1725C16.0887 1.37125 15.0162 0.875 13.8462 0.875C11.5763 0.875 9.74875 2.7175 9.74875 4.97625C9.74875 5.30125 9.77625 5.61375 9.84375 5.91125C6.435 5.745 3.41875 4.11125 1.3925 1.6225C1.03875 2.23625 0.83125 2.93875 0.83125 3.695C0.83125 5.115 1.5625 6.37375 2.6525 7.1025C1.99375 7.09 1.3475 6.89875 0.8 6.5975C0.8 6.61 0.8 6.62625 0.8 6.6425C0.8 8.635 2.22125 10.29 4.085 10.6712C3.75125 10.7625 3.3875 10.8062 3.01 10.8062C2.7475 10.8062 2.4825 10.7913 2.23375 10.7362C2.765 12.36 4.2725 13.5538 6.065 13.5925C4.67 14.6838 2.89875 15.3412 0.98125 15.3412C0.645 15.3412 0.3225 15.3263 0 15.285C1.81625 16.4563 3.96875 17.125 6.29 17.125C13.835 17.125 17.96 10.875 17.96 5.4575C17.96 5.27625 17.9538 5.10125 17.945 4.9275C18.7588 4.35 19.4425 3.62875 20 2.79875Z"
                            fill="#E89806" />
                    </svg>
                </div>

                <div class="social-icon">
                    <svg width="18" height="20" viewBox="0 0 18 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M9.27187 0C3.79037 0 0.875244 3.51266 0.875244 7.34283C0.875244 9.11916 1.86779 11.3343 3.45661 12.0368C3.69787 12.1455 3.82913 12.0993 3.88288 11.8755C3.93038 11.7055 4.13914 10.8867 4.2404 10.5005C4.27165 10.3767 4.2554 10.2692 4.15539 10.153C3.62787 9.54293 3.2091 8.43163 3.2091 7.38908C3.2091 4.71771 5.33294 2.12385 8.94686 2.12385C12.072 2.12385 14.2583 4.15394 14.2583 7.05782C14.2583 10.3392 12.522 12.6093 10.2657 12.6093C9.01686 12.6093 8.08682 11.6293 8.38183 10.4167C8.7381 8.9729 9.43688 7.42033 9.43688 6.37904C9.43688 5.44524 8.90936 4.67271 7.83181 4.67271C6.5605 4.67271 5.5292 5.93152 5.5292 7.62159C5.5292 8.69539 5.90922 9.42042 5.90922 9.42042C5.90922 9.42042 4.65166 14.5007 4.4179 15.4494C4.02289 17.0558 4.47166 19.6571 4.51041 19.8809C4.53416 20.0046 4.67291 20.0434 4.75042 19.9421C4.87417 19.7796 6.39424 17.6108 6.82051 16.0432C6.97552 15.4719 7.6118 13.1556 7.6118 13.1556C8.03057 13.9119 9.23937 14.5457 10.5269 14.5457C14.3571 14.5457 17.1247 11.1793 17.1247 7.00156C17.111 2.99638 13.6833 0 9.27187 0Z"
                            fill="#E89806" />
                    </svg>
                </div>

                <div class="social-icon">
                    <svg width="20" height="14" viewBox="0 0 20 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M19.15 1.45C18.6075 0.485 18.0188 0.3075 16.82 0.24C15.6225 0.15875 12.6112 0.125 10.0025 0.125C7.38875 0.125 4.37625 0.15875 3.18 0.23875C1.98375 0.3075 1.39375 0.48375 0.84625 1.45C0.2875 2.41375 0 4.07375 0 6.99625C0 6.99875 0 7 0 7C0 7.0025 0 7.00375 0 7.00375V7.00625C0 9.91625 0.2875 11.5887 0.84625 12.5425C1.39375 13.5075 1.9825 13.6825 3.17875 13.7638C4.37625 13.8338 7.38875 13.875 10.0025 13.875C12.6112 13.875 15.6225 13.8337 16.8212 13.765C18.02 13.6837 18.6087 13.5088 19.1513 12.5438C19.715 11.59 20 9.9175 20 7.0075C20 7.0075 20 7.00375 20 7.00125C20 7.00125 20 6.99875 20 6.9975C20 4.07375 19.715 2.41375 19.15 1.45ZM7.5 10.75V3.25L13.75 7L7.5 10.75Z"
                            fill="#E89806" />
                    </svg>
                </div>

                <div class="social-icon">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M13.75 0H6.25C2.79875 0 0 2.79875 0 6.25V13.75C0 17.2013 2.79875 20 6.25 20H13.75C17.2013 20 20 17.2013 20 13.75V6.25C20 2.79875 17.2013 0 13.75 0ZM18.125 13.75C18.125 16.1625 16.1625 18.125 13.75 18.125H6.25C3.8375 18.125 1.875 16.1625 1.875 13.75V6.25C1.875 3.8375 3.8375 1.875 6.25 1.875H13.75C16.1625 1.875 18.125 3.8375 18.125 6.25V13.75Z"
                            fill="#E89806" />
                        <path
                            d="M10 5C7.23875 5 5 7.23875 5 10C5 12.7613 7.23875 15 10 15C12.7613 15 15 12.7613 15 10C15 7.23875 12.7613 5 10 5ZM10 13.125C8.2775 13.125 6.875 11.7225 6.875 10C6.875 8.27625 8.2775 6.875 10 6.875C11.7225 6.875 13.125 8.27625 13.125 10C13.125 11.7225 11.7225 13.125 10 13.125Z"
                            fill="#E89806" />
                        <path
                            d="M15.375 5.29123C15.743 5.29123 16.0412 4.99294 16.0412 4.62499C16.0412 4.25703 15.743 3.95874 15.375 3.95874C15.007 3.95874 14.7087 4.25703 14.7087 4.62499C14.7087 4.99294 15.007 5.29123 15.375 5.29123Z"
                            fill="#E89806" />
                    </svg>
                </div>
            </div>
        </div>

        <div>
            <p class="product-code">Item #: {{product.productCode.toString()}}</p>

            <div class="product-rating">
                <ng-container *ngFor="let hasStar of rating; let i = index">
                    <span class="star" (click)="changeRating(i + 1)">
                        <ng-container *ngIf="hasStar">
                            <svg width="19" height="17" viewBox="0 0 19 17" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M18.4324 6.4241C18.3162 6.06489 17.9976 5.80977 17.6207 5.7758L12.5006 5.31089L10.476 0.572098C10.3267 0.224806 9.98676 0 9.60902 0C9.23127 0 8.89129 0.224806 8.742 0.572911L6.71739 5.31089L1.59652 5.7758C1.22027 5.81058 0.90248 6.06489 0.785679 6.4241C0.668877 6.7833 0.776746 7.17728 1.06137 7.42564L4.93153 10.8198L3.79031 15.8469C3.7068 16.2165 3.85027 16.5986 4.15696 16.8203C4.32181 16.9394 4.51467 17 4.70916 17C4.87685 17 5.04319 16.9548 5.19247 16.8655L9.60902 14.2259L14.0239 16.8655C14.347 17.0598 14.7542 17.0421 15.0603 16.8203C15.3671 16.5979 15.5104 16.2157 15.4269 15.8469L14.2857 10.8198L18.1558 7.42632C18.4405 7.17728 18.5492 6.78398 18.4324 6.4241Z"
                                    fill="#FFBC1F" />
                            </svg>
                        </ng-container>

                        <ng-container *ngIf="!hasStar">
                            <svg width="18" height="17" viewBox="0 0 18 17" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M17.9109 6.4241C17.7947 6.06489 17.4761 5.80977 17.0992 5.7758L11.9792 5.31089L9.95454 0.572098C9.80526 0.224806 9.46528 0 9.08753 0C8.70979 0 8.3698 0.224806 8.22052 0.572911L6.19591 5.31089L1.07504 5.7758C0.698783 5.81058 0.380996 6.06489 0.264194 6.4241C0.147392 6.7833 0.255261 7.17728 0.53989 7.42564L4.41005 10.8198L3.26883 15.8469C3.18532 16.2165 3.32878 16.5986 3.63547 16.8203C3.80032 16.9394 3.99319 17 4.18768 17C4.35537 17 4.52171 16.9548 4.67099 16.8655L9.08753 14.2259L13.5024 16.8655C13.8255 17.0598 14.2328 17.0421 14.5388 16.8203C14.8456 16.5979 14.9889 16.2157 14.9054 15.8469L13.7642 10.8198L17.6344 7.42632C17.919 7.17728 18.0277 6.78398 17.9109 6.4241Z"
                                    fill="#AEB3C4" />
                            </svg>
                        </ng-container>
                    </span>
                </ng-container>
            </div>

            <div class="price-container">
                <ng-container *ngTemplateOutlet="product.reducedPrice ? showReduced : showNormal"></ng-container>
                <ng-template #showReduced>
                    <p class="price normal-price old-price">${{product.price}}</p>
                    <p class="price reduced-price">${{product.reducedPrice}}</p>
                </ng-template>

                <ng-template #showNormal>
                    <p class="price normal-price">${{product.price}}</p>
                </ng-template>
            </div>

            <div class="product-sizes">
                <span class="label">Select a size:</span>

                <div class="sizes-container">
                    <ng-container *ngFor="let size of product.availableSizes">
                        <div [ngClass]="{'size' : true, 'active': size === selectedSize}" (click)="changeSize(size)">
                            <span>{{size}}</span>
                        </div>
                    </ng-container>
                </div>
            </div>

            <button class="add-button">Add to cart</button>
        </div>
    </div>

    <div class="bottom">
        <p class="bottom-label">Details:</p>

        <div class="product-description">
            <p>{{product.description}}</p>
        </div>

    </div>
</div>